(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,a){e.exports={nav:"Header_nav__3d2WC",cart:"Header_cart__3YdZL",headerButtons:"Header_headerButtons__1NxXd",link:"Header_link__23BJg",active:"Header_active__36jV3",number:"Header_number__2JoAg",logo:"Header_logo__3QWeq",image:"Header_image__2MCer"}},110:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a.n(n),r=a(53),i=a(8),s=(a(110),a(15)),o=a.n(s),l=a(19),d=a(5),u=a(0),j=a.n(u),b=a(83),m=a.n(b).a.create({baseURL:"https://food-app-backend-mern.herokuapp.com/"}),O=a(9),h=a(192),f=a(190),p=a(32),g=a.n(p),x=a(2),v=a(25),_=function(e){var t=Object(u.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],r=Object(u.useState)(""),s=Object(d.a)(r,2),b=s[0],p=s[1],_=Object(u.useState)(""),k=Object(d.a)(_,2),C=k[0],y=k[1],S=Object(u.useState)(null),N=Object(d.a)(S,2),I=N[0],w=N[1],A=Object(u.useState)(!1),F=Object(d.a)(A,2),P=F[0],W=F[1],q=Object(i.c)((function(e){return e.auth.isVerified})),E=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(null),W(!1),t.preventDefault(),a={name:n,email:b,password:C},e.next=6,m.post("register",v.stringify(a));case 6:void 0===(c=e.sent).data.user&&w(c.data),W(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(j.a.Fragment,{children:[q&&Object(x.jsx)(O.a,{to:"/"}),Object(x.jsxs)("form",{className:g.a.Form,type:"submit",children:[Object(x.jsx)("h1",{children:"Registration Form"}),I&&Object(x.jsx)("p",{className:g.a.error,children:I}),!I&&P&&Object(x.jsx)(O.a,{to:"/login"}),Object(x.jsx)(h.a,{value:n,fullWidth:!0,onChange:function(e){c(e.target.value)},id:"name",required:!0,margin:"normal",label:"Name",variant:"outlined"}),Object(x.jsx)(h.a,{value:b,fullWidth:!0,onChange:function(e){p(e.target.value)},id:"email",required:!0,margin:"normal",label:"Email",variant:"outlined"}),Object(x.jsx)(h.a,{value:C,fullWidth:!0,onChange:function(e){y(e.target.value)},type:"password",id:"pass",required:!0,margin:"normal",label:"Password",variant:"outlined"}),Object(x.jsx)(f.a,{className:g.a.but,onClick:E,variant:"contained",size:"large",color:"primary",children:"Register"})]})]})},k=a(25),C=a.n(k),y=a(30),S=Object(y.b)({name:"auth",initialState:{isVerified:!1,admin:!1},reducers:{login:function(e){e.isVerified=!0},logout:function(e){e.isVerified=!1},adminLogin:function(e){e.admin=!0}}}),N=S.actions,I=S.reducer,w=a(25),A=Object(y.b)({name:"cart",initialState:{items:[],totalPrice:0,numberOfItems:0,showCart:!1,isCartFetched:!1},reducers:{addItem:function(e,t){var a=e.items.findIndex((function(e){return e.id===t.payload.id}));e.items[a]?e.items[a].amount+=1:e.items.push({id:t.payload.id,name:t.payload.name,price:t.payload.price,description:t.payload.description,amount:1}),e.totalPrice+=t.payload.price,e.numberOfItems+=1},removeItem:function(e,t){var a=e.items.findIndex((function(e){return e.id===t.payload})),n=e.items[a];1===n.amount?e.items=e.items.filter((function(e){return e.id!==t.payload})):e.items[a].amount-=1,e.totalPrice-=n.price,e.numberOfItems-=1,0===e.numberOfItems&&(e.totalPrice=0)},toggleCart:function(e){e.showCart=!e.showCart},hideCart:function(e){e.showCart=!1},cartIsFetched:function(e,t){e.isCartFetched=t.payload},replaceCart:function(e,t){e.items=0===t.payload.numberOfItems?[]:t.payload.items,e.totalPrice=t.payload.totalPrice,e.numberOfItems=t.payload.numberOfItems},resetCart:function(e){e.items=[],e.totalPrice=0,e.numberOfItems=0}}}),F=function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("email"),n=localStorage.getItem("token"),e.next=4,m.get("cart",{headers:{token:n,email:a}}).then((function(e){t(P.replaceCart(e.data))})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=A.actions,W=A.reducer,q=function(e){var t=Object(u.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],r=Object(u.useState)(""),s=Object(d.a)(r,2),b=s[0],p=s[1],v=Object(u.useState)(null),_=Object(d.a)(v,2),k=_[0],y=_[1],S=Object(u.useState)(!1),I=Object(d.a)(S,2),w=I[0],A=I[1],F=Object(i.b)(),W=Object(i.c)((function(e){return e.auth.isVerified})),q=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(null),A(!1),t.preventDefault(),a={email:n,password:b},e.next=6,m.post("login",C.a.stringify(a));case 6:void 0===(c=e.sent).data.token?y(c.data):(F(N.login()),localStorage.setItem("token",c.data.token),localStorage.setItem("email",a.email),F(P.cartIsFetched(!1))),A(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(j.a.Fragment,{children:[W&&Object(x.jsx)(O.a,{to:"/"}),Object(x.jsxs)("form",{className:g.a.Form,type:"submit",children:[Object(x.jsx)("h1",{children:"Login Form"}),k&&Object(x.jsx)("p",{className:g.a.error,children:k}),!k&&w&&Object(x.jsx)(O.a,{to:"/"}),Object(x.jsx)(h.a,{value:n,fullWidth:!0,onChange:function(e){c(e.target.value)},id:"email",required:!0,margin:"normal",label:"Email",variant:"outlined"}),Object(x.jsx)(h.a,{value:b,fullWidth:!0,onChange:function(e){p(e.target.value)},type:"password",id:"pass",required:!0,margin:"normal",label:"Password",variant:"outlined"}),Object(x.jsx)(f.a,{type:"submit",className:g.a.but,onClick:q,variant:"contained",size:"large",color:"primary",children:"Login"})]})]})},E=a(38),T=a.n(E),M=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth.isVerified})),n=Object(O.g)();return Object(x.jsxs)("div",{className:T.a.card,children:[Object(x.jsxs)("div",{className:T.a.meal,children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("p",{className:T.a.description,children:e.description}),Object(x.jsxs)("p",{className:T.a.price,children:["\u20b9 ",e.price]})]}),Object(x.jsx)("div",{className:T.a.addButton,children:Object(x.jsx)("button",{onClick:function(){a||n.push("login"),t(P.addItem({id:e.id,name:e.name,description:e.description,price:e.price}))},className:T.a.add,children:"+ Add"})})]})},L=a(88),H=a.n(L),V=function(){var e=Object(u.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1];Object(u.useEffect)((function(){m.get("addItem").then((function(e){n(e.data)})).catch((function(e){console.log("Something Went Wrong")}))}),[]);var c=a.map((function(e){return Object(x.jsx)(M,{id:e._id,name:e.name,description:e.description,price:e.price},e._id)}));return Object(x.jsx)("div",{className:H.a.meals,children:c})},D=a(11),U=a.n(D),R=a(191),z=a(193),J=a(89),B=a.n(J),G=a(90),Q=a.n(G),K=Object(y.b)({name:"admin",initialState:{admin:!1,registerClicked:!1,addItemClicked:!0},reducers:{login:function(e){e.admin=!0},logout:function(e){e.admin=!1},registerClickedToggle:function(e){e.registerClicked=!0,e.addItemClicked=!1},addItemClickedToggle:function(e){e.registerClicked=!1,e.addItemClicked=!0}}}),X=K.actions,Z=K.reducer,Y=a.p+"static/media/meals.2971f633.jpg",$=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.auth.isVerified})),n=Object(i.c)((function(e){return e.admin.admin})),c=Object(u.useState)(!1),r=Object(d.a)(c,2),s=r[0],o=r[1],l=Object(i.c)((function(e){return e.cart.numberOfItems})),b=Object(u.useState)(U.a.link),m=Object(d.a)(b,2),h=m[0],p=m[1],g=Object(u.useState)(U.a.link),v=Object(d.a)(g,2),_=v[0],k=v[1],C=Object(u.useState)(U.a.link),y=Object(d.a)(C,2),S=y[0],I=y[1],w=Object(u.useState)(U.a.link),A=Object(d.a)(w,2),F=A[0],W=A[1],q=Object(u.useState)(U.a.link),E=Object(d.a)(q,2),T=E[0],M=E[1],L=Object(O.g)();return Object(x.jsxs)(j.a.Fragment,{children:[Object(x.jsxs)("div",{className:U.a.nav,children:[Object(x.jsx)("div",{children:Object(x.jsx)(R.a,{onClick:function(){L.push("/")},"aria-label":"User Profile",children:Object(x.jsx)("b",{className:U.a.logo,children:"Food App"})})}),Object(x.jsxs)("div",{className:U.a.headerButtons,children:[a&&!n&&Object(x.jsxs)(R.a,{onClick:function(){t(P.toggleCart()),o(!1)},color:"primary","aria-label":"add to shopping cart",children:[l>0&&Object(x.jsx)("p",{className:U.a.number,children:l}),Object(x.jsx)(B.a,{})]}),n&&Object(x.jsx)(z.a,{onClick:function(){t(X.registerClickedToggle()),L.push("admin"),W("".concat(U.a.link," ").concat(U.a.active)),M("".concat(U.a.link))},className:F,children:"Create New Admin"}),n&&Object(x.jsx)(z.a,{onClick:function(){t(X.addItemClickedToggle()),L.push("admin"),M("".concat(U.a.link," ").concat(U.a.active)),W("".concat(U.a.link))},className:T,children:"Add New Dish"}),!a&&!n&&Object(x.jsx)(z.a,{className:h,onClick:function(){L.push("login"),p("".concat(U.a.link," ").concat(U.a.active)),k("".concat(U.a.link)),I("".concat(U.a.link))},children:"Login"}),!a&&!n&&Object(x.jsx)(z.a,{className:_,onClick:function(){L.push("register"),p("".concat(U.a.link," ")),k("".concat(U.a.link," ").concat(U.a.active)),I("".concat(U.a.link))},children:"Register"}),(a||n)&&Object(x.jsx)(f.a,{onClick:function(){t(N.logout()),localStorage.removeItem("token"),localStorage.removeItem("email"),t(X.logout()),localStorage.removeItem("AdminToken")},variant:"contained",color:"secondary",children:"Logout"}),s&&Object(x.jsx)(O.a,{to:"/"}),a&&!n&&Object(x.jsx)(R.a,{onClick:function(){L.push("profile")},color:"primary","aria-label":"User Profile",children:Object(x.jsx)(Q.a,{})}),!a&&!n&&Object(x.jsx)(z.a,{onClick:function(){L.push("admin"),M("".concat(U.a.link," ").concat(U.a.active)),p("".concat(U.a.link," ")),k("".concat(U.a.link," ")),I("".concat(U.a.link," ").concat(U.a.active))},className:S,children:"Admin"})]})]}),Object(x.jsx)("div",{className:U.a.image,children:Object(x.jsx)("img",{src:Y,alt:"meals"})})]})},ee=a(91),te=a.n(ee),ae=a(65),ne=a.n(ae),ce=a(66),re=a.n(ce),ie=a(93),se=a.n(ie),oe=a(92),le=a.n(oe);ne.a.setAppElement("#root");var de=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cart.items})),a=Object(i.c)((function(e){return e.cart.numberOfItems})),n=Object(i.c)((function(e){return e.cart.totalPrice})),c=Object(i.c)((function(e){return e.cart.showCart})),r=Object(i.c)((function(e){return e.auth.isVerified})),s=Object(O.g)(),d=function(t){e(P.removeItem(t))},u=function(t){e(P.addItem(t))},j=Object(x.jsx)("p",{children:"Add items to place order"});t.length>0&&(j=t.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.price}),Object(x.jsx)("td",{children:e.amount}),Object(x.jsx)("td",{children:r&&Object(x.jsx)(R.a,{onClick:u.bind(null,e),color:"primary","aria-label":"add to shopping cart",children:Object(x.jsx)(le.a,{})})}),Object(x.jsx)("td",{children:Object(x.jsx)(R.a,{onClick:d.bind(null,e.id),color:"secondary","aria-label":"add to shopping cart",children:Object(x.jsx)(se.a,{})})})]},e.id)})));var b=function(){e(P.toggleCart())},m=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("/checkout");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(ne.a,{className:re.a.Modal,isOpen:c,onRequestClose:b,contentLabel:"My dialog",children:[Object(x.jsx)("div",{className:re.a.Table,children:Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Dish"}),Object(x.jsx)("th",{children:"Price"}),Object(x.jsx)("th",{children:"Quantity"}),Object(x.jsx)("th",{children:"Add"}),Object(x.jsx)("th",{children:"Remove"})]})}),Object(x.jsx)("tbody",{children:j})]})}),Object(x.jsxs)("h3",{children:["Total price: \u20b9 ",n]}),a>0&&Object(x.jsx)(f.a,{onClick:m,variant:"contained",color:"primary",children:"Order"}),Object(x.jsx)(f.a,{variant:"contained",color:"secondary",onClick:b,children:"Close"})]})},ue=a(46),je=a.n(ue),be=a(25),me=function(){var e=Object(u.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(""),r=Object(d.a)(c,2),s=r[0],b=r[1],O=Object(u.useState)(""),p=Object(d.a)(O,2),g=p[0],v=p[1],_=Object(u.useState)(""),k=Object(d.a)(_,2),C=k[0],y=k[1],S=Object(u.useState)(""),N=Object(d.a)(S,2),I=N[0],w=N[1],A=Object(u.useState)(""),F=Object(d.a)(A,2),W=F[0],q=F[1],E=Object(u.useState)(null),T=Object(d.a)(E,2),M=T[0],L=T[1],H=Object(u.useState)(),V=Object(d.a)(H,2),D=V[0],U=V[1],R=Object(u.useState)({}),z=Object(d.a)(R,2),J=z[0],B=z[1],G=Object(u.useState)(!1),Q=Object(d.a)(G,2),K=Q[0],X=Q[1],Z=Object(i.b)();Object(u.useEffect)((function(){Z(P.hideCart())}),[Z]),Object(u.useEffect)((function(){D&&function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,m.post("order",be.stringify(J),{headers:{token:t}}).then((function(e){X(!0),Z(P.resetCart())})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[J,D,Z]);return Object(x.jsxs)(j.a.Fragment,{children:[!K&&Object(x.jsxs)("form",{className:je.a.Form,children:[Object(x.jsx)("h2",{children:"Checkout Form"}),M&&Object(x.jsxs)("p",{className:je.a.error,children:["*",M]}),Object(x.jsx)(h.a,{value:a,onChange:function(e){n(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",label:"Name",variant:"outlined"}),Object(x.jsx)(h.a,{value:s,onChange:function(e){b(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",type:"Number",label:"Mobile No.",variant:"outlined"}),Object(x.jsx)(h.a,{value:g,onChange:function(e){v(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",type:"email",fullWidth:!0,label:"email",variant:"outlined"}),Object(x.jsx)(h.a,{value:C,onChange:function(e){y(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",fullWidth:!0,label:"street",variant:"outlined"}),Object(x.jsx)(h.a,{value:I,onChange:function(e){w(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",label:"city",variant:"outlined"}),Object(x.jsx)(h.a,{value:W,onChange:function(e){q(e.target.value)},id:"outlined-basic",required:!0,margin:"normal",label:"Postal Code",variant:"outlined"}),Object(x.jsxs)("div",{className:je.a.actions,children:[Object(x.jsx)(f.a,{onClick:function(e){if(e.preventDefault(),L(null),0!==a.length)if(10===s.length)if(/\S+@\S+\.\S+/.test(g))if(0!==C.length)if(0!==I.length)if(6===W.length){var t={name:a,email:g,mobile:s,street:C,city:I,postalCode:W};U(!0),B(t)}else L("Invalid Postal Code Should be of 6 digits");else L("City must not be empty");else L("Street must not be empty");else L("Invalid Email");else L("Enter a valid mobile number");else L("Name must not be empty")},variant:"contained",size:"large",color:"primary",className:je.a.margin,children:"Submit"}),Object(x.jsx)(f.a,{variant:"contained",size:"large",color:"secondary",className:je.a.margin,children:"Cancel"})]})]}),K&&Object(x.jsx)("p",{children:"Order Placed Successfully"})]})},Oe=a(33),he=a.n(Oe),fe=function(){var e=Object(u.useState)({}),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(i.c)((function(e){return e.auth.isVerified}));Object(u.useEffect)((function(){!function(){var e=localStorage.getItem("email"),t=localStorage.getItem("token");m.get("profile",{headers:{token:t,email:e}}).then((function(e){n(e.data)})).catch((function(e){console.log("Something went wrong")}))}()}),[]);var r=Object(x.jsx)("p",{children:"No orders yet"});return a&&a.orders&&(r=a.orders.map((function(e){return Object(x.jsx)("div",{className:he.a.orders,children:Object(x.jsxs)("div",{className:he.a.Table,children:[Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Price(\u20b9)"}),Object(x.jsx)("th",{children:"Quantity"})]})}),Object(x.jsx)("tbody",{children:e.cart.items.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.price}),Object(x.jsx)("td",{children:e.amount})]},e.id)}))})]}),Object(x.jsxs)("p",{children:["Mobile number: ",e.mobile]}),Object(x.jsxs)("address",{children:["Address: ",e.address.street,", ",e.address.city,", ",e.address.postalCode]}),Object(x.jsxs)("h3",{children:["Total Price: \u20b9",e.cart.totalPrice]}),Object(x.jsxs)("h4",{children:["Quantity: ",e.cart.numberOfItems]})]},e.id)},e.id)}))),Object(x.jsxs)("div",{className:he.a.profile,children:[!c&&Object(x.jsx)(O.a,{to:"/"}),Object(x.jsx)("div",{className:he.a.card,children:Object(x.jsxs)("div",{className:he.a.container,children:[Object(x.jsxs)("h4",{children:["Name: ",Object(x.jsx)("b",{children:a.name})]}),Object(x.jsxs)("p",{children:["Email: ",a.email]})]})}),Object(x.jsxs)("div",{className:he.a.previous,children:[Object(x.jsx)("h1",{children:"Previous Orders"}),Object(x.jsx)("div",{className:he.a.prev,children:r})]})]})},pe=a(29),ge=a.n(pe),xe=a(25),ve=function(e){var t=Object(u.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],r=Object(u.useState)(""),s=Object(d.a)(r,2),b=s[0],p=s[1],g=Object(u.useState)(""),v=Object(d.a)(g,2),_=v[0],k=v[1],C=Object(u.useState)(null),y=Object(d.a)(C,2),S=y[0],N=y[1],I=Object(u.useState)(!1),w=Object(d.a)(I,2),A=w[0],F=w[1],P=Object(i.c)((function(e){return e.auth.isVerified})),W=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),F(!1),t.preventDefault(),a={name:n,email:b,password:_},e.next=6,m.post("registerAdmin",xe.stringify(a));case 6:void 0===(r=e.sent).data.user?N(r.data):(F(!0),c(""),p(""),k(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(j.a.Fragment,{children:[P&&Object(x.jsx)(O.a,{to:"/"}),Object(x.jsxs)("form",{className:ge.a.Form,type:"submit",children:[Object(x.jsx)("h1",{children:"Registration Form"}),S&&Object(x.jsx)("p",{className:ge.a.error,children:S}),!S&&A&&Object(x.jsx)("p",{children:"User created successfully"}),Object(x.jsx)(h.a,{value:n,fullWidth:!0,onChange:function(e){c(e.target.value)},id:"name",required:!0,margin:"normal",label:"Name",variant:"outlined"}),Object(x.jsx)(h.a,{value:b,fullWidth:!0,onChange:function(e){p(e.target.value)},id:"email",required:!0,margin:"normal",label:"Email",variant:"outlined"}),Object(x.jsx)(h.a,{value:_,fullWidth:!0,onChange:function(e){k(e.target.value)},type:"password",id:"pass",required:!0,margin:"normal",label:"Password",variant:"outlined"}),Object(x.jsx)(f.a,{className:ge.a.but,onClick:W,variant:"contained",size:"large",color:"primary",children:"Register"})]})]})},_e=a(67),ke=a.n(_e),Ce=function(){var e=Object(u.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(""),r=Object(d.a)(c,2),i=r[0],s=r[1],o=Object(u.useState)(""),l=Object(d.a)(o,2),j=l[0],b=l[1],O=Object(u.useState)(""),p=Object(d.a)(O,2),g=p[0],v=p[1];return Object(x.jsxs)("form",{className:ke.a.Form,children:[Object(x.jsx)("h1",{children:"Add Item"}),g&&Object(x.jsx)("p",{children:g}),Object(x.jsx)(h.a,{value:a,fullWidth:!0,onChange:function(e){n(e.target.value)},id:"name",required:!0,margin:"normal",label:"Name",variant:"outlined"}),Object(x.jsx)(h.a,{value:i,fullWidth:!0,onChange:function(e){s(e.target.value)},id:"description",required:!0,margin:"normal",label:"Description",variant:"outlined"}),Object(x.jsx)(h.a,{value:j,fullWidth:!0,onChange:function(e){b(e.target.value)},InputProps:{inputProps:{min:0}},type:"number",id:"price",required:!0,margin:"normal",label:"Price",variant:"outlined"}),Object(x.jsx)(f.a,{type:"submit",className:ke.a.but,onClick:function(e){e.preventDefault(),v("");var t={name:a,description:i,price:j},n=localStorage.getItem("AdminToken");m.post("addItem",C.a.stringify(t),{headers:{AdminToken:n}}).then((function(e){v(e.data)})).catch((function(e){v("Something Went Wrong")}))},variant:"contained",size:"large",color:"primary",children:"Add"})]})},ye=function(){var e=Object(i.c)((function(e){return e.admin.admin})),t=Object(i.b)(),a=Object(u.useState)(""),n=Object(d.a)(a,2),c=n[0],r=n[1],s=Object(u.useState)(""),j=Object(d.a)(s,2),b=j[0],O=j[1],p=Object(u.useState)(null),g=Object(d.a)(p,2),v=g[0],_=g[1],k=Object(i.c)((function(e){return e.admin.registerClicked})),y=Object(i.c)((function(e){return e.admin.addItemClicked}));Object(u.useEffect)((function(){var e=localStorage.getItem("AdminToken");m.get("/isAdmin",{headers:{AdminToken:e}}).then((function(e){t(X.login())})).catch((function(e){t(X.logout())}))}),[t]);var S=function(){var e=Object(l.a)(o.a.mark((function e(a){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={email:c,password:b},e.next=4,m.post("checkAdmin",C.a.stringify(n));case 4:void 0===(i=e.sent).data.Admintoken?_(i.data):(t(X.login()),localStorage.setItem("AdminToken",i.data.Admintoken),_(""),r(""),O(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(x.jsxs)("form",{className:ge.a.Form,type:"submit",children:[Object(x.jsx)("h1",{children:"Admin Login Form"}),v&&Object(x.jsx)("p",{className:ge.a.error,children:v}),Object(x.jsx)(h.a,{value:c,fullWidth:!0,onChange:function(e){r(e.target.value)},id:"email",required:!0,margin:"normal",label:"Email",variant:"outlined"}),Object(x.jsx)(h.a,{value:b,fullWidth:!0,onChange:function(e){O(e.target.value)},type:"password",id:"pass",required:!0,margin:"normal",label:"Password",variant:"outlined"}),Object(x.jsx)(f.a,{type:"submit",className:ge.a.but,onClick:S,variant:"contained",size:"large",color:"primary",children:"Login"})]});return Object(x.jsxs)("div",{className:ge.a.admin,children:[!e&&N,e&&k&&Object(x.jsx)(ve,{}),e&&y&&Object(x.jsx)(Ce,{})]})},Se=function(){var e=Object(i.c)((function(e){return e.cart})),t=Object(i.b)(),a=Object(i.c)((function(e){return e.cart.isCartFetched}));Object(u.useEffect)((function(){t((function(e){var t=localStorage.getItem("token");m.get("check",{headers:{token:t,Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){e(N.login())})).catch((function(t){t.response,e(N.logout())}))})),t(P.cartIsFetched(!1))}),[t]),Object(u.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=5;break}return e.next=3,t(F());case 3:return e.next=5,t(P.cartIsFetched(!0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t]),Object(u.useEffect)((function(){var n;a&&t((n=e,function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return a=e.sent,e.next=5,localStorage.getItem("email");case 5:return c=e.sent,e.t0=c,e.next=9,JSON.stringify(n);case 9:return e.t1=e.sent,r={email:e.t0,newItem:e.t1},e.next=13,m.post("cart",w.stringify(r),{headers:{token:a}}).then((function(e){})).catch((function(e){}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,t,a]);var n=Object(i.c)((function(e){return e.cart.showCart}));return Object(x.jsxs)("div",{className:te.a.app,children:[Object(x.jsx)($,{}),n&&Object(x.jsx)(de,{}),Object(x.jsxs)(O.d,{children:[Object(x.jsx)(O.b,{exact:!0,path:"/",children:Object(x.jsx)(V,{})}),Object(x.jsx)(O.b,{exact:!0,path:"/register",children:Object(x.jsx)(_,{})}),Object(x.jsx)(O.b,{exact:!0,path:"/login",children:Object(x.jsx)(q,{})}),Object(x.jsx)(O.b,{exact:!0,path:"/checkout",children:Object(x.jsx)(me,{})}),Object(x.jsx)(O.b,{exact:!0,path:"/profile",children:Object(x.jsx)(fe,{})}),Object(x.jsx)(O.b,{exact:!0,path:"/admin",children:Object(x.jsx)(ye,{})})]})]})},Ne=Object(y.a)({reducer:{auth:I,cart:W,admin:Z}});c.a.render(Object(x.jsx)(i.a,{store:Ne,children:Object(x.jsx)(r.a,{children:Object(x.jsx)(Se,{})})}),document.getElementById("root"))},29:function(e,t,a){e.exports={Form:"Admin_Form__EiE0r",but:"Admin_but__3Estp",error:"Admin_error__2DGKx",admin:"Admin_admin__2vHLj"}},32:function(e,t,a){e.exports={Form:"Login_Form__1oAF7",but:"Login_but__1Wm0J",error:"Login_error__1rC99"}},33:function(e,t,a){e.exports={profile:"Profile_profile__2S255",Table:"Profile_Table__1eyGa",orders:"Profile_orders__2d_8s",prev:"Profile_prev__35Jdc",previous:"Profile_previous__1ADeH",details:"Profile_details__yfj2z",card:"Profile_card__IU8OR",container:"Profile_container__2wiCH"}},38:function(e,t,a){e.exports={card:"ShowMeals_card__JUgCT",addButton:"ShowMeals_addButton__1-hXu",add:"ShowMeals_add__3vHvt",meal:"ShowMeals_meal__1LHUy",description:"ShowMeals_description__1N0k8",price:"ShowMeals_price__FUGta"}},46:function(e,t,a){e.exports={Form:"Order_Form__35-nz",error:"Order_error__3VrGG"}},66:function(e,t,a){e.exports={Modal:"Cart_Modal__3MMZA",items:"Cart_items__3GURt",actions:"Cart_actions__2W5C4",Table:"Cart_Table__1UUgJ",but:"Cart_but__2ES1-"}},67:function(e,t,a){e.exports={Form:"AddItem_Form__1jhK1",but:"AddItem_but__3KQfX",error:"AddItem_error__19tcm"}},88:function(e,t,a){e.exports={meals:"Meals_meals__33-nC"}},91:function(e,t,a){}},[[159,1,2]]]);
//# sourceMappingURL=main.9c0954ca.chunk.js.map